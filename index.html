<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guitar Cabinet Controller</title>
    <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Courier New', monospace;
        background: #000;
        color: #0f0;
        padding: 20px;
        max-width: 500px;
        margin: 0 auto;
    }
    
    .container {
        border: 2px solid #0f0;
        padding: 20px;
        border-radius: 10px;
        background: #111;
    }
    
    /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å */
    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid #0f0;
    }
    
    .logo {
        font-size: 24px;
    }
    
    .title {
        font-size: 18px;
        font-weight: bold;
    }
    
    .version {
        font-size: 12px;
        opacity: 0.8;
    }
    
    .status-led {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #f00;
        display: inline-block;
        margin-right: 5px;
    }
    
    .status-led.connected {
        background: #0f0;
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
    }
    
    /* –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω (–∫–∞–∫ –Ω–∞ ESP32) */
    .main-screen {
        background: #000;
        border: 1px solid #0f0;
        padding: 15px;
        margin-bottom: 20px;
        font-family: 'Courier New', monospace;
        position: relative;
        min-height: 200px;
    }
    
    /* –í–µ—Ä—Ö–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ */
    .top-message {
        text-align: center;
        font-size: 14px;
        margin-bottom: 15px;
        color: #ff0;
        min-height: 32px;
        border-bottom: 1px dashed #0f0;
        padding-bottom: 5px;
    }
    
    /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–ª–µ–≤–∞ (H%, C', T+) */
    .indicators {
        position: absolute;
        top: 45px;
        left: 10px;
        font-size: 14px;
    }
    
    .indicator {
        margin-bottom: 5px;
    }
    
    .indicator.blink {
        animation: blink 1s infinite;
    }
    
    @keyframes blink {
        0% { opacity: 1; }
        50% { opacity: 0; }
        100% { opacity: 1; }
    }
    
    /* –ë–æ–ª—å—à–∏–µ —Ü–∏—Ñ—Ä—ã —Å–ø—Ä–∞–≤–∞ */
    .big-digits {
        position: absolute;
        right: 10px;
        top: 45px;
        text-align: right;
    }
    
    .humidity-big {
        font-size: 48px;
        font-weight: bold;
        line-height: 1;
    }
    
    .temperature-big {
        font-size: 48px;
        font-weight: bold;
        line-height: 1;
    }
    
    .fraction {
        font-size: 16px;
        vertical-align: super;
    }
    
    /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è */
    .password-grid {
        display: grid;
        grid-template-columns: repeat(3, 20px);
        gap: 5px;
        justify-content: center;
        margin: 20px 0;
    }
    
    .password-cell {
        width: 20px;
        height: 20px;
        border: 1px solid #0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
    }
    
    /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
    .button-group {
        display: flex;
        gap: 10px;
        margin: 15px 0;
        align-items: center;
    }
    
    .connect-btn {
        flex: 1;
        background: #000;
        color: #0f0;
        border: 2px solid #0f0;
        padding: 12px;
        font-family: 'Courier New', monospace;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        border-radius: 5px;
    }
    
    .connect-btn:hover {
        background: #0f0;
        color: #000;
    }
    
    .connect-btn.connected {
        background: #0f0;
        color: #000;
    }
    
    .reset-btn {
        width: 50px;
        height: 50px;
        background: #000;
        color: #0f0;
        border: 2px solid #0f0;
        font-size: 20px;
        cursor: pointer;
        border-radius: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .reset-btn:hover {
        background: #0f0;
        color: #000;
    }
    
    /* –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã */
    .mode-indicator {
        text-align: center;
        font-size: 18px;
        font-weight: bold;
        margin: 15px 0;
        padding: 10px;
        border: 1px solid #0f0;
        background: #000;
    }
    
    .mode-humidify { color: #0ff; }
    .mode-dehumidify { color: #ff0; }
    .mode-off { color: #f00; }
    
    /* –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
    .settings-block {
        border: 1px solid #0f0;
        padding: 15px;
        margin: 20px 0;
    }
    
    .settings-title {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 15px;
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 2px;
    }
    
    .settings-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    
    .setting-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px;
        border-bottom: 1px dotted #0f0;
        cursor: pointer;
    }
    
    .setting-row:hover {
        background: #0f0;
        color: #000;
    }
    
    .setting-name {
        font-size: 14px;
    }
    
    .setting-value {
        font-size: 14px;
        font-weight: bold;
    }
    
    /* –õ–æ–≥ */
    .log-panel {
        margin-top: 20px;
        border-top: 1px solid #0f0;
        padding-top: 10px;
    }
    
    .log-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        margin-bottom: 10px;
    }
    
    .log-content {
        font-size: 12px;
        max-height: 150px;
        overflow-y: auto;
        padding: 10px;
        background: #000;
        border: 1px solid #0f0;
    }
    
    .log-entry {
        margin: 2px 0;
        padding: 2px 0;
        border-bottom: 1px dotted #0f0;
    }
    
    .log-entry.error { color: #f00; }
    .log-entry.success { color: #0f0; }
    .log-entry.warning { color: #ff0; }
    
    /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ä–µ—Å—É—Ä—Å–æ–≤ */
    .resource-status {
        display: inline-block;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        margin-right: 5px;
    }
    
    .status-ok { background: #0f0; }
    .status-warning { background: #ff0; }
    .status-empty { background: #f00; }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 480px) {
        .humidity-big, .temperature-big {
            font-size: 36px;
        }
    }
    </style>
</head>
<body>
    <div class="container">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å –∫–∞–∫ –Ω–∞ ESP32 -->
        <div class="header">
            <div class="logo">üé∏</div>
            <div class="title">GUITAR CABINET</div>
            <div class="version">v1.9</div>
            <div>
                <span class="status-led" id="statusLed"></span>
                <span id="statusText">OFF</span>
            </div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω (—Ç–æ—á–Ω–∞—è –∫–æ–ø–∏—è ESP32) -->
        <div class="main-screen" id="mainScreen">
            <!-- –í–µ—Ä—Ö–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
            <div class="top-message" id="topMessage"></div>
            
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–ª–µ–≤–∞ (H%, C', T+) -->
            <div class="indicators">
                <div class="indicator" id="humIndicator">H%</div>
                <div class="indicator" id="ventIndicator">C'</div>
                <div class="indicator" id="heaterIndicator">T+</div>
            </div>
            
            <!-- –ë–æ–ª—å—à–∏–µ —Ü–∏—Ñ—Ä—ã —Å–ø—Ä–∞–≤–∞ -->
            <div class="big-digits">
                <div>
                    <span class="humidity-big" id="humidityInt">--</span>
                    <span class="fraction" id="humidityFrac"></span>
                </div>
                <div>
                    <span class="temperature-big" id="tempInt">--</span>
                    <span class="fraction" id="tempFrac"></span>
                </div>
            </div>
            
            <!-- –¶–µ–ª–µ–≤–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å (–≤–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞) -->
            <div style="position: absolute; top: 10px; left: 10px; font-size: 12px;" id="targetDisplay">
                –¶–µ–ª—å: 50%
            </div>
            
            <!-- –°–µ—Ç–∫–∞ –ø–∞—Ä–æ–ª—è (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤–≤–æ–¥–µ) -->
            <div class="password-grid" id="passwordGrid" style="display: none;"></div>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="button-group">
            <button class="connect-btn" id="connectBtn">–ü–û–î–ö–õ–Æ–ß–ò–¢–¨–°–Ø</button>
            <button class="reset-btn" id="resetBtn" title="–°–±—Ä–æ—Å BLE">‚Üª</button>
        </div>
        
        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞ -->
        <div class="mode-indicator" id="modeIndicator">
            –†–ï–ñ–ò–ú: –û–ñ–ò–î–ê–ù–ò–ï
        </div>
        
        <!-- –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div class="settings-block">
            <div class="settings-title">‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò</div>
            <div class="settings-list" id="settingsList">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ JS -->
            </div>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å –ª–æ–≥–∞ -->
        <div class="log-panel">
            <div class="log-header" onclick="toggleLog()">
                <span>üìã –õ–û–ì –°–û–ï–î–ò–ù–ï–ù–ò–Ø</span>
                <span id="logToggle">‚ñº</span>
            </div>
            <div class="log-content" id="logContent" style="display: block;"></div>
        </div>
    </div>
    
    <script src="index.js"></script>
</body>
</html>
